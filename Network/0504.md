# 0504

## SSH

SSH란 Secure Shell의 약자로 원격 서버에 접근하기 위한 보안 프로토콜이다.
SSH에서는 비대칭키를 통해 서버 인증과 클라이언트 인증을 하고, 대칭키를 통해 데이터를 암호화 한다.

### 비대칭키

비대칭키는 원격 서버에 최초 접촉 시 클라이언트와 서버가 서로를 인증할 때 사용하는 방식이다.

비대칭키의 동작 과정은 다음과 같다.

0. 사용자가 원격 서버를 생성할 때 키 페어를 생성한다. 키 페어는 공개키와 개인키로 구성된다.
1. 서버는 공개키를 보유한다. 공개키는 클라이언트의 개인키가 유효한지 검증한다.
2. 클라이언트는 개인키를 보유한다(EC2 인스턴스 생성 시 주어지는 pem 파일이 개인키다).
3. 서버에 최초 접속
   시 클라이언트는 개인키를 전송하고 서버는 검증한다. 만약 개인키가 유효하다면 클라이언트는 서버에 접속한다.

### 대칭키

대칭키는 비대칭키로 인증 후 클라이언트와 서버가 데이터를 주고 받을 때 사용한다.

대칭키의 동작 과정은 다음과 같다.

0. 비대칭키를 이용하여 서버에 성공적으로 접속했다.
1. 공개키를 생성한 후 서버와 클라이언트에서 보관한다(이때 공개키는 1개이다).
2. 데이터를 전송할 때 공개키를 이용하여 데이터를 암호화한다.
3. 데이터를 받고 공개키를 이용하여 데이터를 복호화한다.
4. 통신이 끝나면 공개키를 폐기한다. 이후 다시 서버에 접속 시 공개키를 생성한다.

## 출처

- [공개 키 암호 방식](https://ko.wikipedia.org/wiki/%EA%B3%B5%EA%B0%9C_%ED%82%A4_%EC%95%94%ED%98%B8_%EB%B0%A9%EC%8B%9D)
- [SSH 명칭부터 접속까지 한 번에 이해하기 1](https://library.gabia.com/contents/infrahosting/9002/)
